{
  "$schema": "../schemas/config.schema.json",
  "version": "2.0.0",

  "loop": {
    "maxIterations": 50,
    "consecutivePassesRequired": 2,
    "pauseOnSeverity": "S0",
    "parallelAgents": true,
    "swarmEnabled": true,
    "timeoutMs": 3600000
  },

  "context": {
    "softThreshold": 0.50,
    "warnThreshold": 0.70,
    "hardThreshold": 0.85,
    "backgroundCompaction": true,
    "cacheReuse": true,
    "preserveUserCorrections": true,
    "compactionIntervalIterations": 5
  },

  "gates": {
    "testCoverage": {
      "overall": 80,
      "newCode": 90
    },
    "lintErrors": 0,
    "lintWarnings": 0,
    "typeErrors": 0,
    "securityS0": 0,
    "securityS1": 0,
    "maxRetries": 3,
    "parallelExecution": true,
    "timeoutMs": 300000
  },

  "models": {
    "default": "sonnet",
    "security": "opus",
    "planning": "opus",
    "execution": "sonnet",
    "workers": "sonnet",
    "quick": "haiku"
  },

  "classification": {
    "thresholds": {
      "simpleFileCount": 2,
      "mediumFileCount": 10
    },
    "subagents": {
      "minBreadthFirst": 3,
      "maxBreadthFirst": 20,
      "tasksPerAgent": 3
    }
  },

  "checkpoints": {
    "enabled": true,
    "createOnGatePass": true,
    "includeDecisionRefs": true
  },

  "extensions": {
    "skillsPath": ".claude/extensions/skills",
    "gatesPath": ".claude/extensions/gates",
    "overridesPath": ".claude/extensions/overrides",
    "autoLoad": true
  },

  "metrics": {
    "enabled": true,
    "outputPath": ".claude/metrics",
    "format": "jsonl",
    "includeTimings": true,
    "includeTokens": true
  },

  "state": {
    "storagePath": ".claude/state",
    "renderMarkdown": true,
    "backupOnCompaction": true,
    "maxHistoryEntries": 1000
  }
}
