# General Project Profile
# Fallback when no specific profile matches

name: general
version: "1.0.0"
description: Generic profile for mixed or unrecognized projects

# This profile loads when no other profile matches
detect:
  fallback: true

# General tools (attempt detection)
tools:
  # Will be detected based on config files present
  lint: auto-detect
  format: auto-detect
  test: auto-detect
  build: auto-detect

# Detection hints for auto-detect
auto_detect_hints:
  # If Makefile exists, use make
  makefile:
    detect: "Makefile"
    commands:
      build: "make build"
      test: "make test"
      lint: "make lint"

  # If package.json exists, use npm
  npm:
    detect: "package.json"
    commands:
      install: "npm install"
      test: "npm test"
      build: "npm run build"

  # If Cargo.toml exists, use cargo (Rust)
  cargo:
    detect: "Cargo.toml"
    commands:
      build: "cargo build"
      test: "cargo test"
      lint: "cargo clippy"

# Quality thresholds (relaxed for general)
thresholds:
  test_coverage: 70
  new_code_coverage: 80

# Patterns to apply
patterns:
  - general-project-structure

# Rules to load
rules:
  - security
  - code-quality

# File conventions
conventions:
  readme: "README.md"
  changelog: "CHANGELOG.md"
  license: "LICENSE"
  gitignore: ".gitignore"
