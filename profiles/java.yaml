# Java Project Profile
# Loaded when pom.xml or build.gradle detected

name: java
version: "1.0"

# How to detect this profile
detection:
  files:
    - pom.xml
    - build.gradle
    - build.gradle.kts
    - settings.gradle
  patterns:
    - "**/*.java"

# Quality gate commands
gates:
  lint:
    maven_command: mvn checkstyle:check
    gradle_command: ./gradlew checkstyleMain
    description: Check code style

  test:
    maven_command: mvn test
    gradle_command: ./gradlew test
    description: Run test suite

  build:
    maven_command: mvn compile
    gradle_command: ./gradlew build
    description: Build project

  format:
    command: google-java-format -i **/*.java
    description: Format Java code

# Thresholds
thresholds:
  coverage: 80
  complexity: 10

# Common patterns in Java projects
patterns:
  - name: maven
    indicator: pom.xml
    tools:
      build: mvn
      test: mvn test

  - name: gradle
    indicator: build.gradle
    tools:
      build: ./gradlew
      test: ./gradlew test

  - name: spring-boot
    indicator: "@SpringBootApplication"

  - name: quarkus
    indicator: quarkus

  - name: micronaut
    indicator: micronaut

# Conventions
conventions:
  - Follow Java naming conventions (camelCase, PascalCase)
  - Use dependency injection
  - Prefer composition over inheritance
  - Use Optional instead of null
  - Write unit tests with JUnit

# File templates
templates:
  test: |
    import org.junit.jupiter.api.Test;
    import static org.junit.jupiter.api.Assertions.*;

    class {ClassName}Test {
        @Test
        void test{Method}() {
            // Arrange

            // Act

            // Assert
            assertTrue(true);
        }
    }

# Ignore patterns for search
ignore:
  - target
  - build
  - .gradle
  - .idea
  - "*.class"
  - "*.jar"
